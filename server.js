/////////////////////////////////////////
//      Dependencies
/////////////////////////////////////////

const express = require("express");
const mongoose = require("mongoose");
const methodOverride = require("method-override");

const coffeelogRouter = require("./controllers/coffeelog");

/////////////////////////////////////////
//      Instantiations/Variables
/////////////////////////////////////////
const PORT = 3050;
const dbURL = "mongodb://127.0.0.1:27017/coffeenotes";

const app = express();

/////////////////////////////////////////
//      Middleware
/////////////////////////////////////////

/////////////////////////////////////////
//      Routes
/////////////////////////////////////////

app.use("/", coffeelogRouter);

//////////////////////////////////////////
//      Connection Listeners
//////////////////////////////////////////

mongoose.connect(dbURL, () => {
  console.log("Connected to mongodb");
});

app.listen(PORT, () => {
  console.log("Server listening on port ", PORT);
});
